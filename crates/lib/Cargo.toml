[package]
name = "gamedig"
version = "1.0.0-alpha"
edition = "2021"
license = "MIT"
readme = "README.md"
homepage = "https://gamedig.github.io/"
repository = "https://github.com/gamedig/rust-gamedig"
documentation = "https://docs.rs/gamedig/latest/gamedig"
authors = ["GameDig Organization & Contributors [https://github.com/gamedig]"]
keywords = ["status", "query", "game", "protocol", "service"]
description = "Query game servers and not only."
categories = [
    "parsing",
    "encoding",
    "asynchronous",
    "network-programming",
    "parser-implementations",
]


[dependencies]
# Required Dependencies
log = "0.4.22"
thiserror = "1.0.61"
maybe-async = "0.2.10"
derive_more = "0.99.18"
error-stack = { version = "0.4.1", features = ["spantrace"] }

# Optional Dependencies
async-trait = { version = "0.1.51", optional = true }
tokio = { version = "1.37.0", features = ["full"], optional = true }


[features]
default = ["client_tokio", "all"]

# Internal Features (Prefix: _<CAPS>)
## I/O
_BUFFER = []

## Net
_TCP = ["_BUFFER"]
_UDP = ["_BUFFER"]
_HTTP = []
_TLS = ["_HTTP"]

# Client Features (Prefix: client_)
# Note: Only 1 client type can be enabled at a time
client_std = ["maybe-async/is_sync"]
client_tokio = ["dep:async-trait", "dep:tokio"]

# Library Features
## Attributes (Prefix: attribute_)
attribute_serde = []
attribute_adapters = []
attribute_extended_derive = []

## Custom Games

## Protocols
### Query
gamespy_1 = ["_UDP"]
gamespy_2 = ["_UDP"]
gamespy_3 = ["_UDP"]
mumble = ["_TCP"]
quake_1 = ["_UDP"]
quake_2 = ["_UDP"]
quake_3 = ["_UDP"]
teamspeak_2 = ["_TCP"]
teamspeak_3 = ["_TCP"]
unreal_2 = ["_UDP"]
valve = ["_UDP"]
valve_gold_src = ["_UDP"]

### RCON (Prefix: rcon_)
rcon_battleye_2 = ["_TCP"]
rcon_valve_source = ["_TCP"]

## Services (Prefix: service_)
service_alt_v_mp = ["_TLS"]
service_beam_mp = ["_TLS"]
service_discord = ["_TLS"]
service_epic = ["_TLS"]
service_minetest = ["_TLS"]
service_rage_mp = ["_TLS"]
service_valve_master = ["_UDP"]

## Index
all = [
    "all_attributes",
    "all_custom_games",
    "all_query_protocols",
    "all_rcon_protocols",
    "all_services",
]
all_attributes = [
    "attribute_serde",
    "attribute_adapters",
    "attribute_extended_derive",
]
all_custom_games = []
all_query_protocols = [
    "gamespy_1",
    "gamespy_2",
    "gamespy_3",
    "mumble",
    "quake_1",
    "quake_2",
    "quake_3",
    "teamspeak_2",
    "teamspeak_3",
    "unreal_2",
    "valve",
    "valve_gold_src",
]
all_rcon_protocols = ["rcon_battleye_2", "rcon_valve_source"]
all_services = [
    "service_alt_v_mp",
    "service_beam_mp",
    "service_discord",
    "service_epic",
    "service_minetest",
    "service_rage_mp",
    "service_valve_master",
]
